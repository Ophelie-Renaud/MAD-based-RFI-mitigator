/**
 * @file Core6.c
 * @generated by CPrinter
 * @date Mon Jun 26 04:12:21 CEST 2023
 *
 * Code generated for processing element Core6 (ID=6).
 */

#include "preesm_gen.h"
// Core Global Declaration
extern pthread_barrier_t iter_barrier;
extern int preesmStopThreads;

extern char *const Brd_Acq_Im_0__MAD_Computation_srv_5__0; // Brd_Acq_Im_0 > MAD_Computation_srv_5 size:= 3276800*char defined in Core0
extern char *const Brd_Acq_Real_0__MAD_Computation_srv_5__0; // Brd_Acq_Real_0 > MAD_Computation_srv_5 size:= 3276800*char defined in Core0
extern double *const out_1_5_7__raw_data_real_i__0; // Brd_Acq_Real_0_out_1_5_7 > MAD_Computation_srv_5_raw_data_real_i size:= 51200*double defined in Core0
extern double *const out_0_5_7__raw_data_im_i__0; // Brd_Acq_Im_0_out_0_5_7 > MAD_Computation_srv_5_raw_data_im_i size:= 51200*double defined in Core0
extern double *const mad_R_o__in__5; // MAD_Computation_srv_5_mad_R_o > Brd_MAD_R_5_in size:= 51200*double defined in Core0
extern double *const mad_I_o__in__5; // MAD_Computation_srv_5_mad_I_o > Brd_MAD_I_5_in size:= 51200*double defined in Core0
extern char *const Brd_Acq_Im_0__STD_Computation_srv_5__0; // Brd_Acq_Im_0 > STD_Computation_srv_5 size:= 3276800*char defined in Core0
extern char *const Brd_Acq_Real_0__STD_Computation_srv_5__0; // Brd_Acq_Real_0 > STD_Computation_srv_5 size:= 3276800*char defined in Core0
extern double *const out_2_5_14__raw_data_real_i__0; // Brd_Acq_Real_0_out_2_5_14 > STD_Computation_srv_5_raw_data_real_i size:= 51200*double defined in Core0
extern double *const out_1_5_14__raw_data_im_i__0; // Brd_Acq_Im_0_out_1_5_14 > STD_Computation_srv_5_raw_data_im_i size:= 51200*double defined in Core0
extern double *const std_R_o__in__5; // STD_Computation_srv_5_std_R_o > Brd_STD_R_5_in size:= 51200*double defined in Core0
extern double *const std_I_o__in__5; // STD_Computation_srv_5_std_I_o > Brd_STD_I_5_in size:= 51200*double defined in Core0
extern double *const out_0_0__mad_I_i_5__0; // Brd_MAD_I_5_out_0_0 > implode_Plot_Threshold_0_mad_I_i_mad_I_i_5 size:= 51200*double defined in Core0
extern double *const out_1_1__mad_I_i__5; // Brd_MAD_I_5_out_1_1 > RFI_Filter_srv_5_mad_I_i size:= 51200*double defined in Core0
extern char *const Brd_MAD_I_5__implode_Plot_Threshold_0_mad_I_i__0; // Brd_MAD_I_5 > implode_Plot_Threshold_0_mad_I_i size:= 3276800*char defined in Core0
extern double *const out_0_0__mad_R_i_5__0; // Brd_MAD_R_5_out_0_0 > implode_Plot_Threshold_0_mad_R_i_mad_R_i_5 size:= 51200*double defined in Core0
extern double *const out_2_1__mad_R_i__5; // Brd_MAD_R_5_out_2_1 > RFI_Filter_srv_5_mad_R_i size:= 51200*double defined in Core0
extern char *const Brd_MAD_R_5__implode_Plot_Threshold_0_mad_R_i__0; // Brd_MAD_R_5 > implode_Plot_Threshold_0_mad_R_i size:= 3276800*char defined in Core0
extern double *const out_0_0__std_I_i_5__0; // Brd_STD_I_5_out_0_0 > implode_Plot_Threshold_0_std_I_i_std_I_i_5 size:= 51200*double defined in Core0
extern double *const out_1_1__std_I_i__5; // Brd_STD_I_5_out_1_1 > RFI_Filter_srv_5_std_I_i size:= 51200*double defined in Core0
extern char *const Brd_STD_I_5__implode_Plot_Threshold_0_std_I_i__0; // Brd_STD_I_5 > implode_Plot_Threshold_0_std_I_i size:= 3276800*char defined in Core0
extern double *const out_1_0__std_R_i_5__0; // Brd_STD_R_5_out_1_0 > implode_Plot_Threshold_0_std_R_i_std_R_i_5 size:= 51200*double defined in Core0
extern double *const out_2_1__std_R_i__5; // Brd_STD_R_5_out_2_1 > RFI_Filter_srv_5_std_R_i size:= 51200*double defined in Core0
extern char *const Brd_STD_R_5__implode_Plot_Threshold_0_std_R_i__0; // Brd_STD_R_5 > implode_Plot_Threshold_0_std_R_i size:= 3276800*char defined in Core0
extern char *const Brd_Acq_Im_0__RFI_Filter_srv_5__0; // Brd_Acq_Im_0 > RFI_Filter_srv_5 size:= 3276800*char defined in Core0
extern char *const Brd_Acq_Real_0__RFI_Filter_srv_5__0; // Brd_Acq_Real_0 > RFI_Filter_srv_5 size:= 3276800*char defined in Core0
extern double *const out_4_5_21__raw_data_real_i__0; // Brd_Acq_Real_0_out_4_5_21 > RFI_Filter_srv_5_raw_data_real_i size:= 51200*double defined in Core0
extern double *const out_4_5_21__raw_data_im_i__0; // Brd_Acq_Im_0_out_4_5_21 > RFI_Filter_srv_5_raw_data_im_i size:= 51200*double defined in Core0
extern double *const filtered_real_data_o__in_5__0; // RFI_Filter_srv_5_filtered_real_data_o > implode_Brd_Res_Real_0_in_in_5 size:= 51200*double defined in Core0
extern double *const filtered_im_data_o__in_5__0; // RFI_Filter_srv_5_filtered_im_data_o > implode_Brd_Res_Im_0_in_in_5 size:= 51200*double defined in Core0
extern char *const RFI_Filter_srv_5__implode_Brd_Res_Real_0_in__0; // RFI_Filter_srv_5 > implode_Brd_Res_Real_0_in size:= 3276800*char defined in Core0
extern char *const RFI_Filter_srv_5__implode_Brd_Res_Im_0_in__0; // RFI_Filter_srv_5 > implode_Brd_Res_Im_0_in size:= 3276800*char defined in Core0

// Core Global Definitions

void* computationThread_Core6(void *arg) {
  if (arg != NULL) {
    printf("Warning: expecting NULL arguments\n");
    fflush (stdout);
  }

  // Initialisation(s)

  // Begin the execution loop
  pthread_barrier_wait(&iter_barrier);
#ifdef PREESM_LOOP_SIZE // Case of a finite loop
	int index;
	for(index=0;index<PREESM_LOOP_SIZE && !preesmStopThreads;index++){
#else // Default case of an infinite loop
  while (!preesmStopThreads) {
#endif
    // loop body
    receiveStart(); // Core1 > Core6
    receiveEnd(1, 6); // Core1 > Core6
    receiveStart(); // Core0 > Core6
    receiveEnd(0, 6); // Core0 > Core6
    MADCpt(2048/*N_SAMPLES*/, 3/*SIGMA*/, out_1_5_7__raw_data_real_i__0, out_0_5_7__raw_data_im_i__0, mad_R_o__in__5,
        mad_I_o__in__5); // MAD_Computation_srv_5

    receiveStart(); // Core1 > Core6
    receiveEnd(1, 6); // Core1 > Core6
    receiveStart(); // Core0 > Core6
    receiveEnd(0, 6); // Core0 > Core6
    STDCpt(2048/*N_SAMPLES*/, out_2_5_14__raw_data_real_i__0, out_1_5_14__raw_data_im_i__0, std_R_o__in__5,
        std_I_o__in__5); // STD_Computation_srv_5

    // Broadcast Brd_MAD_I_5

    {
      // memcpy #0
      memcpy(out_0_0__mad_I_i_5__0 + 0, mad_I_o__in__5 + 0, 51200 * sizeof(double));
      // memcpy #0
      memcpy(out_1_1__mad_I_i__5 + 0, mad_I_o__in__5 + 0, 51200 * sizeof(double));
    }
    sendStart(6, 2); // Core6 > Core2
    sendEnd(); // Core6 > Core2
    // Broadcast Brd_MAD_R_5

    {
      // memcpy #0
      memcpy(out_0_0__mad_R_i_5__0 + 0, mad_R_o__in__5 + 0, 51200 * sizeof(double));
      // memcpy #0
      memcpy(out_2_1__mad_R_i__5 + 0, mad_R_o__in__5 + 0, 51200 * sizeof(double));
    }
    sendStart(6, 3); // Core6 > Core3
    sendEnd(); // Core6 > Core3
    // Broadcast Brd_STD_I_5

    {
      // memcpy #0
      memcpy(out_0_0__std_I_i_5__0 + 0, std_I_o__in__5 + 0, 51200 * sizeof(double));
      // memcpy #0
      memcpy(out_1_1__std_I_i__5 + 0, std_I_o__in__5 + 0, 51200 * sizeof(double));
    }
    sendStart(6, 4); // Core6 > Core4
    sendEnd(); // Core6 > Core4
    // Broadcast Brd_STD_R_5

    {
      // memcpy #0
      memcpy(out_1_0__std_R_i_5__0 + 0, std_R_o__in__5 + 0, 51200 * sizeof(double));
      // memcpy #0
      memcpy(out_2_1__std_R_i__5 + 0, std_R_o__in__5 + 0, 51200 * sizeof(double));
    }
    sendStart(6, 5); // Core6 > Core5
    sendEnd(); // Core6 > Core5
    receiveStart(); // Core1 > Core6
    receiveEnd(1, 6); // Core1 > Core6
    receiveStart(); // Core0 > Core6
    receiveEnd(0, 6); // Core0 > Core6
    RFIFilter(0/*MODE*/, 2048/*N_SAMPLES*/, out_2_1__mad_R_i__5, out_1_1__mad_I_i__5, out_2_1__std_R_i__5,
        out_1_1__std_I_i__5, out_4_5_21__raw_data_real_i__0, out_4_5_21__raw_data_im_i__0,
        filtered_real_data_o__in_5__0, filtered_im_data_o__in_5__0); // RFI_Filter_srv_5

    sendStart(6, 1); // Core6 > Core1
    sendEnd(); // Core6 > Core1
    sendStart(6, 0); // Core6 > Core0
    sendEnd(); // Core6 > Core0
    // loop footer
    pthread_barrier_wait(&iter_barrier);

  }

  return NULL;
}

