/**
 * @file Core0.c
 * @generated by CPrinter
 * @date Mon Jun 26 00:33:44 CEST 2023
 *
 * Code generated for processing element Core0 (ID=0).
 */

#include "preesm_gen.h"
// Core Global Declaration
extern pthread_barrier_t iter_barrier;
extern int preesmStopThreads;

// Core Global Definitions
char Shared[0]; //  size:= 0*char

void* computationThread_Core0(void *arg) {
  if (arg != NULL) {
    printf("Warning: expecting NULL arguments\n");
    fflush (stdout);
  }

  // Initialisation(s)

  // Begin the execution loop
  pthread_barrier_wait(&iter_barrier);
#ifdef PREESM_LOOP_SIZE // Case of a finite loop
	int index;
	for(index=0;index<PREESM_LOOP_SIZE && !preesmStopThreads;index++){
#else // Default case of an infinite loop
  while (!preesmStopThreads) {
#endif
    // loop body
    top(3/*SIGMA*/, 128000000/*SAMPLE_RATE*/, 0/*MODE*/, 4096/*HEADER_SIZE*/, 1/*DISPLAY*/, 200/*N_BLOCKS*/,
        2048/*N_SAMPLES*/, 409600/*SIZE*/); // top_0

    // loop footer
    pthread_barrier_wait(&iter_barrier);
      preesmStopThreads = 1;
  }

  return NULL;
}

